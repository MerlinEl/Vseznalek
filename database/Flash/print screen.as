			var painter_background = painter_app.painter_background;			if (painter_background.numChildren > 0) painter_background.removeChildAt(0);						// Store the image capture of stage in a BitmapData Object			var bd:BitmapData = new BitmapData(stage.width,stage.height);			bd.draw(stage);						// Set the encoding to high-quality			import com.adobe.images.JPGEncoder;			var qEncoder:JPGEncoder = new JPGEncoder(100);			var qBytes:ByteArray = qEncoder.encode(qImageData);				var screenshot:Bitmap = new Bitmap(bd);			screenshot.x = 10;			screenshot.y = 10;			painter_background.addChild(screenshot);private function takeScreenshot():void {import flash.display.Bitmap;import flash.display.BitmapData;import flash.utils.ByteArray;import flash.net.FileReference;import net.kaourantin.PNGEnc;  var bmd:BitmapData = new BitmapData(stage.stageWidth, stage.stageHeight, true, 0);var bm:Bitmap = new Bitmap(bmd, "auto",true); bmd.draw(this); // i wrote my example code in my document class, so "this" refers to my document class and the whole stage is drawn into the bitmapdata var bild:ByteArray = PNGEnc.encode(bmd); var file:FileReference = new FileReference(); file.save(bild, "screenshot.png"); trace("Taken Screenshot"); }