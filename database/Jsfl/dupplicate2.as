//Clonerfl.outputPanel.clear(); //clear consolevar doc = fl.getDocumentDOM();var lib = doc.library;var sel  = doc.selection;if (doc != null && sel.length > 0) duplicateUnique();//fl.enableImmediateUpdates( true );function duplicateUnique() {		var item = sel[0].libraryItem;	var item_path = item.name.substring(0, item.name.lastIndexOf("/"));	var item_name = getnameWithoutIndex(item.name);	//fl.trace("lib item path:"+item.name+" name:"+item_name);	var str_index = getLastNameIndexFromLibrary(item_name);	//fl.trace("last used index from name chain is:"+str_index);	lib.selectNone(); //prevent to override last selected library item	lib.duplicateItem(item.name); //duplicate and select new item	var new_item = lib.getSelectedItems()[0];	//fl.trace("new library item path:"+new_item.name)	new_item_name = item_name+"_"+numToString(Number(str_index)+1);	new_item.name = new_item_name;	lib.setItemProperty("linkageIdentifier", new_item_name); 	lib.setItemProperty("linkageClassName", new_item_name); 	doc.swapElement(item_path+"/"+new_item_name);//assuming you have targetName	//var obj = cloneSelected();	//obj.x += 50;};function numToString(num){	return (num < 10 ? "0"+String(num) : String(num));};function cloneSelected(){ //not used yet	// Copy the selected symbol instance and paste in place	doc.clipCopy(); doc.clipPaste(true);	var obj = doc.selection[0];	return obj;};function getLastNameIndexFromLibrary(item_name){	var last_index = "01";	for each (var item in lib.items){			if (item.name.indexOf(item_name) == -1) continue; //skip other names		//fl.trace("item:"+item+" name:"+item.name)		var str_index = getItemIndex(item.name);		if (str_index.length == 0) continue; //skip names without index		if (Number(last_index) < Number(str_index)) last_index = str_index;	}	return last_index;};function getnameWithoutIndex(item_path){		var item_name = item_path.split("/").pop();	var str_index = getItemIndex(item_name);	if (str_index.length == 0){ 			return item_name;			} else {		return item_name.substring(0, item_name.lastIndexOf("_"));	}};function getItemIndex(item_name){	//get index after last underscore [mov_zoom_target_01]	var str_index = item_name.substring(item_name.lastIndexOf("_")+1, item_name.length);	fl.trace("char after last underscore:"+str_index)	if (isNaN(str_index)){ //if index is not number			//fl.trace("not int")		return "";			} else {			//fl.trace("is int")		return str_index;	}};