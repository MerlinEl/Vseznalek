// Create a new layer below current active layer// And call it "The Layer Below"createLayerBelowCurrent("The Layer Below");function createLayerBelowCurrent(astring){  var currentActivelayer = app.activeDocument.activeLayer;  var idx = getLayerIndex(currentActivelayer);  // Get a reference to the active layer  var layerRef = app.activeDocument.layers[idx];  // Create a new Art Layer, by default at the top of the document  var newLayerRef = app.activeDocument.artLayers.add();  // Move the new layer set to after the previously first layer  newLayerRef.move(layerRef, ElementPlacement.PLACEAFTER);}function getLayerIndex(ref){  // return the idex of ALL layers  var numOfLayers = app.activeDocument.layers.length;  // work from the top of the stack down!  for (var i = numOfLayers -1; i >= 0; i--)  {    var tempLayer = app.activeDocument.layers[i];    if (tempLayer == ref) return i    if (tempLayer.typename == "LayerSet")    {      var subDoc = app.activeDocument.layers[i];      for (var j = numOfSubLayers -1; j >= 0; j--)      {        var tempSubLayer = subDoc.layers[j]        if (tempSubLayer == ref) return j      }    }  }}