/****************************************This script will open each folder.jpg in turnbackup the original, run the action(s) ,save and close the documents****************************************/main();function main(){var folderList=[];var topLevelFolder = Folder.selectDialog("Please select top level folder");if (topLevelFolder == null)  return;//Get a list of all sub folders and put them in an arraygetFolderList(topLevelFolder);folderList.unshift(topLevelFolder); //add selected folder to arrayvar FileList =[];//get a complete list of folder.jpg'sfor (var a in folderList){    var file = File(folderList[a]+"/folder.jpg");    if(file.exists) FileList.push(file);     }//process all folder.jpgsfor(var f in FileList){    open(FileList[f]); //open each file in turn    FileList[f].copy(FileList[f].path +"/folderbkp.jpg"); //backup file    // Amend to suit your action , the fields are case sensitive!    //This runs an action of your choice you can duplicate this line so that you can run another action.    doAction("ActionName","ActionSet");  //action to run    overWriteJPG(); //write the new file    app.activeDocument.close(SaveOptions.DONOTSAVECHANGES); //close the document}alert(FileList.length + " files have been modified");function getFolderList(folder) { //recursive function    var fileList = folder.getFiles()     for (var i = 0; i < fileList.length; i++) {        var file = fileList[i];if (file instanceof Folder) {      folderList.push(file);     getFolderList(file);      }   }};}function overWriteJPG(){saveOptions = new JPEGSaveOptions();saveOptions.embedColorProfile = true;saveOptions.formatOptions = FormatOptions.STANDARDBASELINE;saveOptions.matte = MatteType.NONE;saveOptions.quality = 8;   var saveFile = new File(decodeURI(activeDocument.fullName.fsName));activeDocument.saveAs(saveFile,saveOptions); 